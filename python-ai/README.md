# Car Defect Detection AI

–°–∏—Å—Ç–µ–º–∞ –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–∞ –¥–ª—è –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –¥–µ—Ñ–µ–∫—Ç–æ–≤ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π (—Ä–∂–∞–≤—á–∏–Ω–∞, —Ü–∞—Ä–∞–ø–∏–Ω—ã, –≤–º—è—Ç–∏–Ω—ã, —Ç—Ä–µ—â–∏–Ω—ã) –Ω–∞ –æ—Å–Ω–æ–≤–µ YOLO.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
pip install -r requirements.txt
```

### 2. –ó–∞–ø—É—Å–∫ API —Å–µ—Ä–≤–µ—Ä–∞
```bash
python api/main.py
```

### 3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è
curl http://localhost:8000/health

# –ê–Ω–∞–ª–∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
curl -X POST -F "file=@car_image.jpg" http://localhost:8000/detect
```

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
python-ai/
‚îú‚îÄ‚îÄ api/                    # FastAPI —Å–µ—Ä–≤–µ—Ä
‚îÇ   ‚îî‚îÄ‚îÄ main.py
‚îú‚îÄ‚îÄ models/                 # –ú–æ–¥–µ–ª–∏ –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ detector.py
‚îú‚îÄ‚îÄ utils/                  # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ image_processor.py  # –ü—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
‚îÇ   ‚îî‚îÄ‚îÄ visualizer.py       # –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
‚îú‚îÄ‚îÄ data/                   # –î–∞–Ω–Ω—ã–µ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ images/            # –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ labels/            # –ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ integration/           # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Node.js
‚îÇ   ‚îî‚îÄ‚îÄ nodejs_client.py
‚îî‚îÄ‚îÄ train_model.py         # –°–∫—Ä–∏–ø—Ç –æ–±—É—á–µ–Ω–∏—è
```

## ü§ñ –ú–æ–¥–µ–ª–∏

### YOLO (You Only Look Once)
- **YOLOv8n**: –ë–∞–∑–æ–≤–∞—è –º–æ–¥–µ–ª—å –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –¥–µ—Ç–µ–∫—Ü–∏–∏
- **–ö–∞—Å—Ç–æ–º–Ω–∞—è –º–æ–¥–µ–ª—å**: –û–±—É—á–µ–Ω–Ω–∞—è –Ω–∞ –¥–∞—Ç–∞—Å–µ—Ç–µ –¥–µ—Ñ–µ–∫—Ç–æ–≤ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π

### –ö–ª–∞—Å—Å—ã –¥–µ—Ñ–µ–∫—Ç–æ–≤:
- `rust` - –†–∂–∞–≤—á–∏–Ω–∞
- `scratch` - –¶–∞—Ä–∞–ø–∏–Ω—ã  
- `dent` - –í–º—è—Ç–∏–Ω—ã
- `crack` - –¢—Ä–µ—â–∏–Ω—ã

## üìä –û–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö
```bash
python train_model.py --mode prepare
```

### 2. –û–±—É—á–µ–Ω–∏–µ
```bash
python train_model.py --mode train
```

### 3. –í–∞–ª–∏–¥–∞—Ü–∏—è
```bash
python train_model.py --mode validate --model runs/detect/car_defects/weights/best.pt
```

## üîß API Endpoints

### POST /detect
–ê–Ω–∞–ª–∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å –≤–æ–∑–≤—Ä–∞—Ç–æ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å —Ä–∞–∑–º–µ—Ç–∫–æ–π
```bash
curl -X POST -F "file=@image.jpg" http://localhost:8000/detect
```

### POST /detect-json
–ê–Ω–∞–ª–∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å –≤–æ–∑–≤—Ä–∞—Ç–æ–º JSON –¥–∞–Ω–Ω—ã—Ö
```bash
curl -X POST -F "file=@image.jpg" http://localhost:8000/detect-json
```

### GET /health
–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ—Ä–≤–∏—Å–∞
```bash
curl http://localhost:8000/health
```

## üîó –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Node.js

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤ .env —Ñ–∞–π–ª–µ Node.js:
```env
USE_PYTHON_AI=true
PYTHON_AI_URL=http://localhost:8000
```

### –ó–∞–ø—É—Å–∫ –æ–±–µ–∏—Ö —Å–∏—Å—Ç–µ–º:
```bash
# Terminal 1: Node.js API
cd ../backend
npm start

# Terminal 2: Python AI
cd python-ai
python api/main.py
```

## üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- **–í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏**: ~2-5 —Å–µ–∫—É–Ω–¥ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
- **–¢–æ—á–Ω–æ—Å—Ç—å**: 85-95% (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–∞—á–µ—Å—Ç–≤–∞ –¥–∞–Ω–Ω—ã—Ö)
- **–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã**: JPEG, PNG, WEBP
- **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä**: 10MB

## üõ†Ô∏è –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–µ—Ç–µ–∫—Ü–∏–∏:
1. **–ü—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∞**: –£–ª—É—á—à–µ–Ω–∏–µ –∫–æ–Ω—Ç—Ä–∞—Å—Ç–∞, —É–¥–∞–ª–µ–Ω–∏–µ —à—É–º–∞
2. **–î–µ—Ç–µ–∫—Ü–∏—è**: YOLO –º–æ–¥–µ–ª—å –¥–ª—è –ø–æ–∏—Å–∫–∞ –¥–µ—Ñ–µ–∫—Ç–æ–≤
3. **–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è**: –û—Ç—Ä–∏—Å–æ–≤–∫–∞ bounding boxes –∏ –º–µ—Ç–æ–∫
4. **–ü–æ—Å—Ç–æ–±—Ä–∞–±–æ—Ç–∫–∞**: –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏

### –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è:
- –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ—Ä–æ–≥–∞ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –∫–ª–∞—Å—Å–æ–≤ –¥–µ—Ñ–µ–∫—Ç–æ–≤
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ü–≤–µ—Ç–æ–≤ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
- –£–ª—É—á—à–µ–Ω–∏–µ –ø—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∏

## üìö –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### Python API:
```python
import requests

# –ê–Ω–∞–ª–∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
with open('car.jpg', 'rb') as f:
    response = requests.post('http://localhost:8000/detect', files={'file': f})
    
# –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
with open('result.jpg', 'wb') as f:
    f.write(response.content)
```

### Node.js –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:
```javascript
const roboflowService = require('./services/roboflowService');

// –ê–Ω–∞–ª–∏–∑ —á–µ—Ä–µ–∑ Python AI
const result = await roboflowService.analyzeImage(imageUrl);
```

## üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### Docker (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):
```dockerfile
FROM python:3.9-slim

WORKDIR /app
COPY requirements.txt .
RUN pip install -r requirements.txt

COPY . .
EXPOSE 8000

CMD ["python", "api/main.py"]
```

### –õ–æ–∫–∞–ª—å–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞:
```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
python -m venv venv
source venv/bin/activate  # Linux/Mac
# –∏–ª–∏
venv\Scripts\activate     # Windows

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install -r requirements.txt

# –ó–∞–ø—É—Å–∫
python api/main.py
```

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - —Å–≤–æ–±–æ–¥–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è.
